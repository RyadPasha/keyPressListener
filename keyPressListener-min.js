/* keyPressListener 1.8, 2021-02-09
 * https://github.com/ryadpasha/keyPressListener
 * Copyright (c) 2021 Ryad Pasha <@RyadPasha>
 * Licensed under the GNU General Public License v3.0 */
var keyPressListener={configObj:{ignoreOtherInput:!0,defaultInput:"key",splitter:"+",version:1.8},config:function(e){return keyPressListener.configObj=Object.assign(keyPressListener.configObj,e),keyPressListener},replaceArray:function(e,r,n){for(var t=e.toUpperCase(),s=0;s<r.length;s++)t=t.replace(r[s].toUpperCase(),n[s]);return t},convertToKeyCode:function(e){e=e.toUpperCase();return key=["Alt","Ctrl","Shift","ESC","Escape","Enter","Backspace","Cmd"],code=[18,17,16,27,27,13,8,91],char2=keyPressListener.replaceArray(e,key,code),e==char2?e.toUpperCase().charCodeAt(0):parseInt(char2)},when:function(e,r,n){if("function"!=typeof r)return alert("Missing callback function.");n=void 0===n||""==n?keyPressListener.configObj.defaultInput:n;e=e.split(keyPressListener.configObj.splitter);var t,s=[];for(t in e){s[t]="code"==n?parseInt(e[t].trim()):keyPressListener.convertToKeyCode(e[t].trim());var i={};document.addEventListener("keydown",function(e){e=e||window.event;i[e.keyCode]=!0}),document.addEventListener("keyup",function(e){e=e||window.event;for(var n=!1,t=0;t<s.length;t++){var o=s[t];if(!i[o]){n=!1;break}n=!0}if(keyPressListener.configObj.ignoreOtherInput)f=!0;else{var a=0;for(var c in i)i[c]&&++a;var f=s.length==a}n&&f&&r(),i[e.keyCode]=!1})}return keyPressListener}};
